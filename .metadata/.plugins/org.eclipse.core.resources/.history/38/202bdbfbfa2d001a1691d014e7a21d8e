package AddressBook;

import java.io.File;
import java.io.FilenameFilter;
import java.util.Scanner;

public class AddressBook {
	static Scanner scanner = new Scanner(System.in);
	static String spath = "/home/admin1/Desktop/JavaProject/AddressBook/src/utilityaddressbook";
	static File file;

	public static void main(String[] args) {

		System.out.println("enter the choice :\n1 -> Create New Book\n" + "2 -> Open existing book \n" + "3 -> Save \n"
				+ "4 -> Save as\n" + "5 -> Quit");
		action();

	}

	public static void action() {
		System.out.print("your Choice is : ");
		int choice = scanner.nextInt();
		switch (choice) {

		case 1:
			createfile();
			break;

		case 2:
			openfile();
			break;

		case 3:
			saveinfile();
			break;

		case 4:
			saveas();
			break;

		case 5:
			System.out.println("Thank you...." + "Have a Nice Day...!");
			return;

		default:
			System.out.println("invalid choice..." + "select again");
			action();
			break;
		}
	}

	public static void saveas() {
		// TODO Auto-generated method stub

	}

	public static void saveinfile() {
		// TODO Auto-generated method stub

	}

	public static void openfile() {

		try {
			file = new File(spath);
			// String[] str = file.list();
			File[] files = file.listFiles(new FilenameFilter() {

				// only open json files
				public boolean accept(File dir, String name) {
					if (name.toLowerCase().endsWith(".json")) {
						return true;
					} else {
						return false;
					}
				}
			});
			for (File f : files) {
				System.out.println(f.getName());
			}

			System.out.println("which file you wnt to open?");
			String openfile = scanner.next();
			spath = "/home/admin1/Desktop/JavaProject/AddressBook/src/utilityaddressbook/" + openfile + ".json";
			System.out.println("Opening " + openfile + ".json file.");
		} catch (Exception e) {
			System.out.println(e);
		}
	}

	public static void createfile() {
		System.out.println("enter json file name");
		String newfile = scanner.next();

		spath = "/home/admin1/Desktop/JavaProject/AddressBook/src/utilityaddressbook/" + newfile + ".json";
		file = new File(spath);
		try {
			if (!file.exists()) {
				createfile();
			} else {
				System.out.println("already created with that name.\n plz change name.");
			}
		} catch (Exception e) {
			e.printStackTrace();
		}

	}

}
